{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEuBD,EAAAE,OAAOC,KAAK,CACjCC,SAAU,eADZ,MAIMC,EAAUC,SAASC,cAAc,SAEjCC,EAAc,GAyCpB,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAS,CACbd,SAAAM,EACAS,MAAAR,GAEEC,EACFI,EAAQE,GAERD,EAAOC,EAAO,IAIfE,MAAK,EAAChB,SAAEA,EAAQe,MAAEA,MACjBE,YACE,IAAMrB,EAAAE,OAAOoB,QAAQ,uBAAqBlB,QAAiBe,QAAYA,EACrE,IAGLI,OAAM,EAACnB,SAAEA,EAAQe,MAAEA,MAClBE,YACE,IAAMrB,EAAAE,OAAOsB,QAAQ,sBAAoBpB,QAAee,QAAYA,EACpE,IAGHM,SAAQ,IAAMpB,EAAQqB,S,CAjE3BrB,EAAQsB,iBAAiB,SAGzB,SAAiBC,GACXC,OAAOD,EAAEE,OAAOC,OAAS,IAC3B/B,EAAAE,OAAOsB,QAAQ,gCACfI,EAAEE,OAAOC,MAAQ,KAKrB,SAAkBH,GAEhB,OADiBA,EAAEE,OAAOE,MAExB,IAAK,QACHxB,EAAYW,MAAQU,OAAOD,EAAEE,OAAOC,OACpC,MACF,IAAK,OACHvB,EAAYyB,KAAOJ,OAAOD,EAAEE,OAAOC,OACnC,MACF,IAAK,SACHvB,EAAY0B,OAASL,OAAOD,EAAEE,OAAOC,O,CAbzCI,CAASP,E,IAPXvB,EAAQsB,iBAAiB,UAyBzB,SAAkBC,GAChBA,EAAEQ,iBAEF5B,EAAY6B,QAAU,EACtB,IAAIC,EAAc9B,EAAYW,MAE9B,IAAK,IAAIoB,EAAI,EAAGA,EAAI/B,EAAY0B,OAAQK,GAAK,EAC3C9B,EAAcD,EAAY6B,QAASC,GACnC9B,EAAY6B,SAAW,EACvBC,GAAe9B,EAAYyB,I","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst changeSettings = Notify.init({\n  position: 'center-top',\n});\n\nconst formRef = document.querySelector('.form');\n\nconst inputsValue = {};\n\nformRef.addEventListener('input', onInput);\nformRef.addEventListener('submit', onSubmit);\n\nfunction onInput(e) {\n  if (Number(e.target.value) < 0) {\n    Notify.failure('The value cannot be negative');\n    e.target.value = '';\n  }\n  getValue(e);\n}\n\nfunction getValue(e) {\n  let userTarget = e.target.name;\n  switch (userTarget) {\n    case 'delay':\n      inputsValue.delay = Number(e.target.value);\n      break;\n    case 'step':\n      inputsValue.step = Number(e.target.value);\n      break;\n    case 'amount':\n      inputsValue.amount = Number(e.target.value);\n      break;\n  }\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  inputsValue.positon = 1;\n  let submitDelay = inputsValue.delay;\n\n  for (let i = 0; i < inputsValue.amount; i += 1) {\n    createPromise(inputsValue.positon, submitDelay);\n    inputsValue.positon += 1;\n    submitDelay += inputsValue.step;\n  }\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    const result = {\n      position,\n      delay,\n    };\n    if (shouldResolve) {\n      resolve(result);\n    } else {\n      reject(result);\n    }\n  });\n  promise\n    .then(({ position, delay }) => {\n      setTimeout(\n        () => Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`),\n        delay\n      );\n    })\n    .catch(({ position, delay }) => {\n      setTimeout(\n        () => Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`),\n        delay\n      );\n    })\n    .finally(() => formRef.reset());\n}\n"],"names":["$iQIUW","parcelRequire","Notify","init","position","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$inputsValue","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","result","delay","then","setTimeout","success","catch","failure","finally","reset","addEventListener","e","Number","target","value","name","step","amount","$47d4ff9957288465$var$getValue","preventDefault","positon","submitDelay","i"],"version":3,"file":"03-promises.5395bfce.js.map"}