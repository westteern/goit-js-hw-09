{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEuBD,EAAAE,OAAOC,KAAK,CACjCC,SAAU,eADZ,MAIMC,EAAUC,SAASC,cAAc,SAGjCC,GAFeF,SAASC,cAAc,UAExB,IA0CpB,SAASE,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtB,IAAIC,SAAQ,CAACC,EAASC,KACpC,MAAMC,EAAS,CACbd,SAAAM,EACAS,MAAAR,GAEEC,EACFI,EAAQE,GAERD,EAAOC,EAAO,IAIfE,MAAK,EAAChB,SAAEA,EAAQe,MAAEA,MACjBE,YACE,IAAMrB,EAAAE,OAAOoB,QAAQ,uBAAqBlB,QAAiBe,QAAYA,EACrE,IAGLI,OAAM,EAACnB,SAAEA,EAAQe,MAAEA,MAClBE,YACE,IAAMrB,EAAAE,OAAOsB,QAAQ,sBAAoBpB,QAAee,QAAYA,EACpE,G,CA/DRd,EAAQoB,iBAAiB,SAGzB,SAAiBC,GACXC,OAAOD,EAAEE,OAAOC,OAAS,IAC3B7B,EAAAE,OAAOsB,QAAQ,gCACfE,EAAEE,OAAOC,MAAQ,KAKrB,SAAkBH,GAEhB,OADiBA,EAAEE,OAAOE,MAExB,IAAK,QACHtB,EAAYW,MAAQQ,OAAOD,EAAEE,OAAOC,OACpC,MACF,IAAK,OACHrB,EAAYuB,KAAOJ,OAAOD,EAAEE,OAAOC,OACnC,MACF,IAAK,SACHrB,EAAYwB,OAASL,OAAOD,EAAEE,OAAOC,O,CAbzCI,CAASP,E,IAPXrB,EAAQoB,iBAAiB,UAyBzB,SAAkBC,GAChBA,EAAEQ,iBAEF1B,EAAY2B,QAAU,EACtB,IAAIC,EAAc5B,EAAYW,MAE9B,IAAK,IAAIkB,EAAI,EAAGA,EAAI7B,EAAYwB,OAAQK,GAAK,EAC3C5B,EAAcD,EAAY2B,QAASC,GACnC5B,EAAY2B,SAAW,EACvBC,GAAe5B,EAAYuB,KAE7BL,EAAEY,cAAcC,O","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst changeSettings = Notify.init({\n  position: 'center-top',\n});\n\nconst formRef = document.querySelector('.form');\nconst submitBtnRef = document.querySelector('button');\n\nconst inputsValue = {};\n\nformRef.addEventListener('input', onInput);\nformRef.addEventListener('submit', onSubmit);\n\nfunction onInput(e) {\n  if (Number(e.target.value) < 0) {\n    Notify.failure('The value cannot be negative');\n    e.target.value = '';\n  }\n  getValue(e);\n}\n\nfunction getValue(e) {\n  let userTarget = e.target.name;\n  switch (userTarget) {\n    case 'delay':\n      inputsValue.delay = Number(e.target.value);\n      break;\n    case 'step':\n      inputsValue.step = Number(e.target.value);\n      break;\n    case 'amount':\n      inputsValue.amount = Number(e.target.value);\n      break;\n  }\n}\n\nfunction onSubmit(e) {\n  e.preventDefault();\n\n  inputsValue.positon = 1;\n  let submitDelay = inputsValue.delay;\n\n  for (let i = 0; i < inputsValue.amount; i += 1) {\n    createPromise(inputsValue.positon, submitDelay);\n    inputsValue.positon += 1;\n    submitDelay += inputsValue.step;\n  }\n  e.currentTarget.reset();\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const promise = new Promise((resolve, reject) => {\n    const result = {\n      position,\n      delay,\n    };\n    if (shouldResolve) {\n      resolve(result);\n    } else {\n      reject(result);\n    }\n  });\n  promise\n    .then(({ position, delay }) => {\n      setTimeout(\n        () => Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`),\n        delay\n      );\n    })\n    .catch(({ position, delay }) => {\n      setTimeout(\n        () => Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`),\n        delay\n      );\n    });\n}\n\n// function defaultInput() {\n//   e.currentTarget.reset();\n// }\n"],"names":["$iQIUW","parcelRequire","Notify","init","position","$47d4ff9957288465$var$formRef","document","querySelector","$47d4ff9957288465$var$inputsValue","$47d4ff9957288465$var$createPromise","position1","delay1","shouldResolve","Math","random","Promise","resolve","reject","result","delay","then","setTimeout","success","catch","failure","addEventListener","e","Number","target","value","name","step","amount","$47d4ff9957288465$var$getValue","preventDefault","positon","submitDelay","i","currentTarget","reset"],"version":3,"file":"03-promises.5438064e.js.map"}